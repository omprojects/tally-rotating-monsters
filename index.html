<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tally Product Monsters</title>
<style>

#monster {
	width: 500px;
	position: absolute;
	top: 50%; left: 50%;
	/* transform: scale(1.3); */
	transform: translate(-50%, -50%);
}

.monster-sprite {
	width: 1500px; height: 400px;
	background: url('') left center no-repeat;
	animation: monster-keyframes 0.4s steps(3) infinite;
}
@keyframes monster-keyframes {
	100% { background-position: -1500px; }
}
#monster {cursor: none;}

</style>
</head>
<body>
<div id="monster" class="monster-sprite"></div>
<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- <script type="text/javascript" src="monster-data-old.js"></script> -->
<script type="text/javascript" src="dataById.js"></script>
<script>
// Generate sprites from Photoshop:
// https://www.johnwordsworth.com/projects/photoshop-sprite-sheet-generator-script/

// original colors
var colors = ["75ec57","6050f4","a295f5","6050f4","d83e3f","b5851f","d83e3f","71cdb7","6a44ad"];
// colors from the speed of thinking containers 20190213
colors = ["ff6854", "ff6854", "95e5f1", "6872ff", "ff68dd", "ff7156","ff9c5b", "ff9c5b", "4e71cf"];

var timer;

$(document).ready(function() {
	// start timer
	timer = setInterval(changeBackground, 1500);
	// show first one
	changeBackground();
});

function changeBackground() {
	// pick random monster
	var rm = randomObjProperty(dataById);
	//console.log(rm);
	// set monster img
	$('.monster-sprite').css({
		'background-image': 'url( monsters/' + rm.mid + '-anim-sheet.png'
	});
	// set background random color
	var bg = colors[Math.floor(Math.random() * colors.length)];
	$('body').css('background', '#' + bg);
}

var randomObjProperty = function(obj) {
	var keys = Object.keys(obj)
	return obj[keys[keys.length * Math.random() << 0]];
};

</script>
</body>
</html>
